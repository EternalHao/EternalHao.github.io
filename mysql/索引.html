<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>blog</title>
    <meta name="description" content="Vuepress blog demo">
    
    
    <link rel="preload" href="/assets/css/0.styles.e12d9437.css" as="style"><link rel="preload" href="/assets/js/app.702528d9.js" as="script"><link rel="preload" href="/assets/js/2.bc0a9366.js" as="script"><link rel="preload" href="/assets/js/22.202bc424.js" as="script"><link rel="prefetch" href="/assets/js/10.189532b9.js"><link rel="prefetch" href="/assets/js/11.40dc7aad.js"><link rel="prefetch" href="/assets/js/12.4155dd95.js"><link rel="prefetch" href="/assets/js/13.8a25e8dd.js"><link rel="prefetch" href="/assets/js/14.742193af.js"><link rel="prefetch" href="/assets/js/15.eb8951e8.js"><link rel="prefetch" href="/assets/js/16.300d77c3.js"><link rel="prefetch" href="/assets/js/17.f9e887bb.js"><link rel="prefetch" href="/assets/js/18.72e5452b.js"><link rel="prefetch" href="/assets/js/19.8eac0218.js"><link rel="prefetch" href="/assets/js/20.698aa3d9.js"><link rel="prefetch" href="/assets/js/21.df54a1e3.js"><link rel="prefetch" href="/assets/js/23.dcdfe1c2.js"><link rel="prefetch" href="/assets/js/24.e5dfe154.js"><link rel="prefetch" href="/assets/js/3.819e11ff.js"><link rel="prefetch" href="/assets/js/4.b2f530cc.js"><link rel="prefetch" href="/assets/js/5.e6bf6ba4.js"><link rel="prefetch" href="/assets/js/6.ddcd92ff.js"><link rel="prefetch" href="/assets/js/7.d7bcaf4d.js"><link rel="prefetch" href="/assets/js/8.68952ef1.js"><link rel="prefetch" href="/assets/js/9.17a8032f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e12d9437.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/blog/FirstBlog.html" class="nav-link">FirstBlog</a></div><div class="nav-item"><a href="/blog/Resume.html" class="nav-link">轻松面试</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">MySql</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mysql/索引.html" class="nav-link">索引</a></li><li class="dropdown-item"><!----> <a href="/mysql/锁.html" class="nav-link">锁</a></li><li class="dropdown-item"><!----> <a href="/mysql/事务.html" class="nav-link">事务</a></li><li class="dropdown-item"><!----> <a href="/mysql/优化.html" class="nav-link">优化</a></li><li class="dropdown-item"><!----> <a href="/mysql/基础SQL语句.html" class="nav-link">基础SQL语句</a></li><li class="dropdown-item"><!----> <a href="/mysql/.html" class="nav-link"></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/Spring.html" class="nav-link">Spring</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">缓存</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/Redis.html" class="nav-link">Redis</a></li></ul></div></div> <a href="https://github.com/EternalHao" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/blog/FirstBlog.html" class="nav-link">FirstBlog</a></div><div class="nav-item"><a href="/blog/Resume.html" class="nav-link">轻松面试</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">MySql</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mysql/索引.html" class="nav-link">索引</a></li><li class="dropdown-item"><!----> <a href="/mysql/锁.html" class="nav-link">锁</a></li><li class="dropdown-item"><!----> <a href="/mysql/事务.html" class="nav-link">事务</a></li><li class="dropdown-item"><!----> <a href="/mysql/优化.html" class="nav-link">优化</a></li><li class="dropdown-item"><!----> <a href="/mysql/基础SQL语句.html" class="nav-link">基础SQL语句</a></li><li class="dropdown-item"><!----> <a href="/mysql/.html" class="nav-link"></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/Spring.html" class="nav-link">Spring</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">缓存</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/Redis.html" class="nav-link">Redis</a></li></ul></div></div> <a href="https://github.com/EternalHao" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><blockquote><h4 id="相信不少面试官喜欢问这个-几乎是问烂的"><a href="#相信不少面试官喜欢问这个-几乎是问烂的" class="header-anchor">#</a> 相信不少面试官喜欢问这个,几乎是问烂的</h4></blockquote> <p>本教程就是教你如何占用面试官的时间,让面试官少问问题,尽量多说废话,多说自己知道的,这样你就不会被问住,你需要准备一个问题接着另一个问题,表现出好学的姿势</p> <h3 id="_1-简单介绍一下索引"><a href="#_1-简单介绍一下索引" class="header-anchor">#</a> 1. 简单介绍一下索引</h3> <p>我们从下面三个点来回答这个问题:</p> <blockquote><p>1.什么是索引?</p></blockquote> <blockquote><p>首先介绍一下索引,索引是一种帮助MySQL高效查找数据的数据结构,我们用的数据库是MySQL,但是MySQL的存储引擎有MyISAM,InnoDB,通常我们使用的是InnoDB,这两个引擎的索引结构是不同的,下面我简单介绍一下InnoDB的索引,众所周知我们都希望查询数据尽可能的快,我们又知道索引在查找的过程中要产生磁盘的消耗,为了减少在查找过程中与磁盘的交互次数,数据库采用了B+树作为索引,此时你最好要求要画一下图(证明你了解它,重要的这个你练过,慢慢画不着急,体现出思考的过程,这个很重要)</p></blockquote> <blockquote><p>2.为什么要用索引?
我们都知道数据库的数据最终是存在磁盘上的,我们在取数据的时候其实是与磁盘发生交互,为了减少我们在查询数据时与磁盘的交互次数,同时也要保证我们的查询数据的稳定性,我们采用了B+树作为索引,索引的结构组织要尽量减少查找过程中磁盘I/O的存取次数,降低系统消耗</p></blockquote> <p>下面可能问你什么是B+树,为什么B+树稳定?
<img src="https://upload-images.jianshu.io/upload_images/5687393-f7686f5fd8dc3c43.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1152" alt=""></p> <p>下一个问题,面试官就让你介绍 一下 MyISAM 和 InnoDB区别,那么恭喜你赚到了, 你就可以巴巴啦. 恭喜你</p> <blockquote><p>MyISAM 是MySQL默认的存储引擎. 不支持事务、也不支持外健,其优势是访问数据快 -&gt; InnoDB就提供了具有提交、回滚和崩溃能力的事务安全</p></blockquote> <h3 id="_2-什么是b树、b-树、b-树、-索引为什么用这种数据结构"><a href="#_2-什么是b树、b-树、b-树、-索引为什么用这种数据结构" class="header-anchor">#</a> 2. 什么是B树、B-树、B+树、 索引为什么用这种数据结构</h3> <blockquote><p>我先来介绍B树,B树是一种利用平衡树的优势加快查询的稳定性和速度的数据结构,数据都存储在叶子结点中，分支结点均为索引，查询时只需要扫描叶子节点，常用于数据库索引；</p></blockquote> <ol><li><p>B树：二叉树，每个结点只存储一个关键字，等于则命中，小于走左结点，大于走右结点</p></li> <li><p>B-树：多路搜索树，每个结点存储M/2到M个关键字，非叶子结点存储指向关键字范围的子结点；所有关键字在整颗树中出现，且只出现一次，非叶子结点可以命中；</p></li> <li><p>B+树：在B-树基础上，为叶子结点增加链表指针，所有关键字都在叶子结点中出现，非叶子结点作为叶子结点的索引；B+树总是到叶子结点才命中；</p></li></ol> <p>B类树是平衡树，每个结点到叶子结点的高度都是相同，这也保证了每个查询是稳定的，查询的时间复杂度时log2(n)；这里利用平衡树的优势加快查询的稳定性和速度</p> <h3 id="_3-索引失效的情况-你遇到过吗"><a href="#_3-索引失效的情况-你遇到过吗" class="header-anchor">#</a> 3. 索引失效的情况,你遇到过吗?</h3> <p>其实这个问题问的就是有索引,但是查询的时候用不到,当问到这个问题,你先不要急着回答,思考一段时间,自己把握,然后再把自己的答案告诉它</p> <blockquote><p>这个问题的核心就在与索引是用B+树实现的,就是那些情况下B+树会进行全文查找</p></blockquote> <ol><li>以%开头的LIKE的查询不能够利用B-TREE索引  推荐使用全文索引来解决类似的全文检索的问题</li> <li>数据类型出现隐式转化的时候也不会用索引
举个例子 字符串类型查找不加索引</li> <li>复合索引的情况下,查询条件不包含索引列的最左边部分,不使用索引</li> <li>使用索引比全表扫描更加慢,则不使用索引
例如查询 开头为&quot;S&quot;的电影,需要返回的实际记录比例较大,就不走索引,直接全文检索</li> <li>用or分割开的条件,如果or前的条件列有索引,而后面的列中没有索引</li></ol> <p>上面的部分普通的面试已经足够,下面就是你的亮点,看自己发挥</p> <h3 id="innodb的索引实现"><a href="#innodb的索引实现" class="header-anchor">#</a> InnoDB的索引实现</h3> <blockquote><p>我们日常使用的InnoDB存储引擎,InnoDB采用B+树最为自己的索引,索引种类分为聚集索引和辅助索引,高度平衡,叶子节点存放数据,其中我们知道MyISAM和InnoDB在索引方面的实现是不同的,对于MyISAM来说索引文件和数据文件是分开的,索引文件保存的数据地址,而InnoDB中,表数据文件就是按照B+tree组织的一个索引表,这个索引的Key就是表的主键,这个索引也被叫做聚集索引</p></blockquote> <h4 id="聚集索引-按照表中的主键创建一颗b-树-同时叶子节点存放的就是整行记录-查询优化器倾向于采用聚集索引"><a href="#聚集索引-按照表中的主键创建一颗b-树-同时叶子节点存放的就是整行记录-查询优化器倾向于采用聚集索引" class="header-anchor">#</a> 聚集索引: 按照表中的主键创建一颗B+树,同时叶子节点存放的就是整行记录,查询优化器倾向于采用聚集索引</h4> <p><img src="https://upload-images.jianshu.io/upload_images/5687393-f7686f5fd8dc3c43.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1152" alt=""></p> <h4 id="辅助索引-叶子节点并不包含行记录的全部数据"><a href="#辅助索引-叶子节点并不包含行记录的全部数据" class="header-anchor">#</a> 辅助索引: 叶子节点并不包含行记录的全部数据,</h4> <h4 id="联合索引"><a href="#联合索引" class="header-anchor">#</a> 联合索引</h4> <p>表上的多个列创建索引
来一张图</p> <h4 id="覆盖索引"><a href="#覆盖索引" class="header-anchor">#</a> 覆盖索引</h4> <p>从辅助索引(主键索引)中就可查到记录,而不需要查询聚集索引的记录,减少IO交互</p> <h4 id="https-www-cnblogs-com-tgycoder-p-5410057-html"><a href="#https-www-cnblogs-com-tgycoder-p-5410057-html" class="header-anchor">#</a> https://www.cnblogs.com/tgycoder/p/5410057.html</h4></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.702528d9.js" defer></script><script src="/assets/js/2.bc0a9366.js" defer></script><script src="/assets/js/22.202bc424.js" defer></script>
  </body>
</html>
